import{u as o,c as r,d as c,r as l,p as d,g as u,e as g,a as p,L as f}from"./index.16da5136.js";function v(h){let a=o();const n=r(),{token:e}=c();l.exports.useEffect(()=>{e==null||e=="undefined"?a("/"):d("/login/validatetoken",{token:e},localStorage.getItem("petdiniz-token")).then(t=>{t!=null&&t.status==200&&i(t.data.id)}).catch(t=>{localStorage.removeItem("petdiniz-token"),a("/")})},[]);async function i(t){setTimeout(async()=>{e!=null&&u(t,e).then(s=>{n(g(s.data))}).then(()=>{a(`/home/${e}`)}).catch(s=>{a(`/validalogin/${e.split(":")[1]}`)})},500)}return p(f,{})}export{v as default};
