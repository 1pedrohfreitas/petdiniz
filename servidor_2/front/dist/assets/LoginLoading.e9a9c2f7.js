import{u as o,b as r,c,r as l,p as d,g as u,d as g,a as p,L as f}from"./index.7270cd43.js";function v(h){let e=o();const n=r(),{token:t}=c();l.exports.useEffect(()=>{t==null||t=="undefined"?e("/"):d("/login/validatetoken",{token:t},localStorage.getItem("petdiniz-token")).then(a=>{a!=null&&a.status==200&&i(a.data.id)}).catch(a=>{localStorage.removeItem("petdiniz-token"),e("/")})},[]);async function i(a){setTimeout(async()=>{t!=null&&u(a,t).then(s=>{n(g(s.data))}).then(()=>{e(`/home/${t}`)}).catch(s=>{e(`/validalogin/${t.split(":")[1]}`)})},500)}return p(f,{})}export{v as default};
