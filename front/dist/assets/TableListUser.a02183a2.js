import{d as C,a as I}from"./FileOpenTwoTone.ffde31c2.js";import{h as L,r as i,j as n,a as r,d as R}from"./index.b0e91862.js";import{getRequest as S,deleteRequest as D}from"./Api.5a83ade6.js";import{P as $}from"./ButtonBase.4fe4f374.js";import{T as j,a as z,b as A,c as f,d as o,e as E,f as H}from"./TableRow.616f147f.js";function B(s){const m=L(),g=s.columns,l="users/",p=s.userData,[d,y]=i.exports.useState(10),[u,b]=i.exports.useState(0),[c,h]=i.exports.useState([]),[k,P]=i.exports.useState([]);i.exports.useEffect(()=>{S(l,localStorage.getItem("petdiniz-token")).then(e=>{if(e.data.data!=null){const t=e.data.data.map(a=>{switch(a.status){case 1:a.statusDescription="Ativo";break;case 0:a.statusDescription="Inativo";break;default:a.statusDescription="I";break}switch(a.usertype){case 3:a.usertypeLabel="Cliente";break;case 2:a.usertypeLabel="Operador";break;case 1:a.usertypeLabel="Administrador";break;case 0:a.usertypeLabel="Super Administrador";break;default:a.usertypeLabel="I";break}return a});h(t),P(t),s.handleUserList(t)}})},[]),i.exports.useEffect(()=>{let e=k;s.idFilter!=null&&(e=e.filter(t=>t.userid==s.idFilter)),s.statusFilter!=null&&(e=e.filter(t=>t.status==s.statusFilter)),s.userTypeFilter!=null&&(e=e.filter(t=>t.usertype==s.userTypeFilter)),h(e)},[s.idFilter,s.userTypeFilter,s.statusFilter]);const x=(e,t)=>{b(t)},T=e=>{p.usertype<e.usertype&&D(l,e.id,localStorage.getItem("petdiniz-token")).then(()=>{const t=c.filter(a=>a.id!=e.id);h(t)})},F=e=>{m(`/home/${localStorage.getItem("petdiniz-token")}/${l.substring(0,l.length-2)}/${e.id}`)},v=e=>{y(+e.target.value),b(0)};return n($,{sx:{width:"100%",overflow:"hidden"},children:[r(j,{sx:{maxHeight:440},children:n(z,{stickyHeader:!0,"aria-label":"sticky table",children:[r(A,{children:n(f,{children:[g.map(e=>r(o,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)),r(o,{})]})}),r(E,{children:c.slice(u*d,u*d+d).map(e=>r(R.Fragment,{children:n(f,{hover:!0,role:"checkbox",tabIndex:-1,children:[g.map(t=>{const a=e[t.id];return r(o,{align:t.align,children:t.format&&typeof a=="number"?t.format(a):a},t.id)}),n(o,{children:[r("a",{onClick:()=>T(e),children:r(C,{})}),r("a",{onClick:()=>F(e),children:r(I,{})})]})]},e.id)},e.id))})]})}),r(H,{rowsPerPageOptions:[10,25,100],component:"div",count:c.length,rowsPerPage:d,page:u,onPageChange:x,onRowsPerPageChange:v})]})}export{B as T};
