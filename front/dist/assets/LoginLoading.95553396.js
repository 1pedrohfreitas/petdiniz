import{h as s,g as r,r as c,i as l,a as g}from"./index.b0e91862.js";import{postRequest as u,getUserDataApi as d}from"./Api.5a83ade6.js";/* empty css                      */import{u as m,L as p}from"./LoadingScreen.b50deb1a.js";function x(f){let a=s();const i=m(),{token:t}=r();c.exports.useEffect(()=>{t==null||t=="undefined"?a("/"):u("/login/validatetoken",{token:t},localStorage.getItem("petdiniz-token")).then(e=>{e!=null&&e.status==200&&n(e.data.id)}).catch(e=>{localStorage.removeItem("petdiniz-token"),a("/")})},[]);async function n(e){setTimeout(async()=>{t!=null&&d(e,t).then(o=>{i(l(o.data))}).then(()=>{a(`/home/${t}`)}).catch(o=>{a(`/validalogin/${t.split(":")[1]}`),console.log(o)})},500)}return g(p,{})}export{x as default};
